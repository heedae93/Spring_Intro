
## 자바 예외(Exception) 처리 구조

### ① 예외의 계층 구조
자바의 모든 예외와 에러는 `Throwable`이라는 클래스를 상속받는다.


* **Error:** 시스템 레벨의 심각한 문제다. (예: 메모리 부족 등) 개발자가 코드로 수습할 수 없는 영역
* **Exception (예외):** 개발자가 만든 코드에서 발생하는 문제로, 적절히 대처하면 프로그램을 계속 실행할 수 있다.
    * **Checked Exception:** 컴파일 시점에 체크. 반드시 `try-catch`로 처리하거나 `throws`로 던져야 합니다. (예: `IOException`)
    * **Unchecked Exception (Runtime):** 실행 시점에 발생합니다. 주로 개발자의 실수로 발생하며, 처리를 강제하지 않습니다. (예: `NullPointerException`, `IllegalStateException`)

### ② 예외 처리의 3가지 핵심 방법

**1) 직접 처리하기 (try - catch - finally)**
```java
try {
    int result = 10 / 0; 
} catch (ArithmeticException e) {
    System.out.println("0으로 나눌 수 없습니다: " + e.getMessage());
} finally {
    System.out.println("계산 시도 종료.");
}
```

**2) 떠넘기기 (throws)** 
- "이 메서드 안에서 에러가 나면, 나를 호출한 쪽에서 처리해!"라고 책임을 전가하는 방식**
```java
public void readFile() throws IOException {
    FileReader fr = new FileReader("test.txt");
}
```

**3) 직접 던지기 (throw)**
- 개발자가 의도적으로 에러를 발생시키는 상황. (예: 비즈니스 로직 위반 시)
```java
if (isDuplicate) {
        throw new IllegalStateException("이미 가입된 회원입니다.");
}
```

### ③ 예외 처리의 흐름 (Process)
예외가 발생하면 자바 가상 머신(JVM)은 다음과 같은 순서로 움직인다.



1. **발생**: 코드 실행 중 에러가 나면 해당 에러 객체를 생성
2. **던지기**: 발생한 지점에서 예외 객체를 던진다.
3. **잡기**: 주변에 이 예외를 처리할 `catch` 블록이 있는지 찾는다.
4. **전파**: 현재 메서드에서 못 잡으면 자신을 호출한 곳(`Caller`)으로 계속 던집니다. 마지막까지 못 잡으면 프로그램이 강제 종료


### ⑤ 주요 예외 클래스의 의미

### 1. Checked Exception (처리가 강제됨)
* **`IOException`**: 입출력(Input/Output) 예외. 파일을 읽거나 쓸 때, 네트워크로 데이터를 주고받을 때 문제가 생기면 발생한다. (예: 파일이 잠겨있음, 네트워크 연결 끊김)
* **`FileNotFoundException`**: 지정한 경로에 파일이 존재하지 않을 때 발생한다. (`IOException`의 자식)
* **`SQLException`**: 데이터베이스(DB) 접속이나 쿼리 실행 중에 문제가 생길 때 발생한다. (예: SQL 문법 오류, DB 연결 실패)
* **`ClassNotFoundException`**: 코드가 특정 클래스를 찾으려고 했으나, 그 클래스 파일(`.class`)이 존재하지 않을 때 발생한다.

### 2. Unchecked Exception (개발자 실수 위주)
* **`NullPointerException` (NPE)**: 가장 많이 보는 예외. 객체가 들어있어야 할 변수가 `null`인 상태에서 메서드를 호출하거나 필드에 접근할 때 발생한다.
* **`ArithmeticException`**: 수학적 계산이 불가능할 때 발생한다. (예: 어떤 수를 0으로 나눌 때)
* **`IndexOutOfBoundsException`**: 배열이나 리스트의 범위를 벗어난 인덱스에 접근할 때 발생한다. (예: 크기가 5인 배열에서 10번 인덱스를 찾을 때)
* **`IllegalArgumentException`**: 메서드에 전달된 인자(Argument)가 부적절할 때 발생한다.
* **`IllegalStateException`**: 객체의 상태가 메서드를 수행하기에 적절하지 않을 때 발생한다. (예: 아까 본 '이미 가입된 회원' 상황은 시스템 상태와 맞지 않으므로 이 예외를 주로 쓴다.)

### 3. Error (시스템 문제)
* **`OutOfMemoryError` (OOM)**: 자바 가상 머신(JVM)의 메모리가 꽉 차서 더 이상 객체를 생성할 수 없을 때 발생한.
* **`StackOverflowError`**: 재귀 호출이 너무 깊어지거나 무한 루프에 빠져 스택 메모리 한계를 넘었을 때 발생한다.